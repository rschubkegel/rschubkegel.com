@import './colors'
@import './breakpoints'
@import url('https://fonts.googleapis.com/css2?family=Lustria&family=Poppins:ital,wght@0,300;0,500;0,700;1,300;1,500;1,700&display=swap')


//////// RESET AND GLOBALS ////////
*
  font-family: inherit
  color: inherit
  padding: 0
  overscroll-behavior: none

:root
  font-size: 12pt
  color: var(--color-fg-mild)
  font-family: Poppins, Arial, Helvetica, sans-serif
  --spacing: 1rem
  --content-w: 42rem
  --sticky-header-top: -1px
  --border-radius: .25rem

//////// TAG DEFAULTS ////////
body
  background-color: var(--color-bg-bold)
  margin: 0
  overflow-x: hidden

h1
  text-align: center
h2, h3
  text-transform: uppercase

@for $index from 1 through 3
  h#{$index}
    font-size: #{((3 - $index) * .75) + 1.5}rem
    color: var(--color-fg-bold)
    font-weight: 700
    line-height: 1
    margin-top: calc(1rem + 0.5em)
    margin-bottom: calc(0.5rem + 0.5em)
    letter-spacing: .02em

p
  font-family: Lustria, Georgia, 'Times New Roman', Times serif
  line-height: 1.6

  a
    color: var(--color-splash-mild)
    border-bottom: .15em solid transparent
    transition: 500ms
    &:is(:hover, :focus)
      transition: 100ms
      color: var(--color-splash-bold)
      border-bottom-color: var(--color-splash-mild)

a
  text-decoration: none
  &:is(:hover, :focus)
    color: var(--color-fg-bold)
    outline: none
  &.button
    display: block
    background: color-mix(in srgb,var(--color-splash-mild), var(--color-bg-bold) 40%)
    padding: 1em 1.5em
    border-radius: var(--border-radius)
    text-align: center
    text-transform: uppercase
    box-shadow: 0 0 .25rem #0002
    transition: 600ms cubic-bezier(0.19, 1, 0.22, 1)
    &:is(:hover, :focus)
      transition: 200ms cubic-bezier(0.19, 1, 0.22, 1)
      background: color-mix(in srgb,var(--color-splash-bold), var(--color-bg-bold) 40%)
      box-shadow: 0 .1rem .25rem #0003

figure
  margin: 0
  figcaption
    text-align: center

img
  max-width: 100%
  border-radius: var(--border-radius)

li
  list-style-position: inside


//////// LAYOUT UTILITY CLASSES ////////
.collapse-when-small
  // WARNING: hard-coded (see :root vars)
  @media (max-width: 42rem)
    grid-template-columns: 1fr !important

.sticky-header
  z-index: 10
  position: sticky
  top: var(--sticky-header-top)
  background-color: var(--color-bg-bold)
  border-bottom: 1px solid var(--color-bg-mild)
  padding-top: var(--spacing)
  padding-bottom: var(--spacing)
  box-shadow: 0 0 .25rem var(--color-bg-bold)
  @for $index from 1 through 3
    h#{$index}
      margin-top: .25em
      margin-bottom: .25em

.pretty-header
  text-transform: uppercase
  position: relative
  a
    display: inline-block
    transition: 500ms
    &:hover
      // text-shadow: 2px -1px #f00d, -2px 1px #00fd // chromatic abberation
      text-shadow: -0.10em 0.10em color-mix(in srgb, var(--color-splash-bold), var(--color-bg-mild) 60%)
      translate: 0.05em -0.05em
      transition: 200ms
      filter: saturate(1.5)
      svg
        opacity: 1
    svg
      fill: currentColor
      transition: inherit
      opacity: .5
      height: .75em
      width: auto
      margin-left: .25rem

//////// COLOR UTILITY CLASSES ////////
.color-fg-mild
  color: var(--color-fg-mild)

.color-fg-bold
  color: var(--color-fg-bold)


@media (prefers-color-scheme: light)
  .invert-when-light
    filter: invert(100%) hue-rotate(180deg)